<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             x:Class="APPMOBLIE.AllTransection"
             BackgroundColor="White"
             xmlns:ic="clr-namespace:ImageCircle.Forms.Plugin.Abstractions;assembly=ImageCircle.Forms.Plugin"
             xmlns:forms="clr-namespace:Microcharts.Forms;assembly=Microcharts.Forms"
             xmlns:local="clr-namespace:APPMOBLIE">
    <AbsoluteLayout>
        <Image Source="background" Aspect="AspectFill"
                  AbsoluteLayout.LayoutBounds="0,0,1,0.12"
                  AbsoluteLayout.LayoutFlags="All"/>
        <ic:CircleImage Source="userpic.png" 
                           Aspect="AspectFill"
                                HeightRequest="80" WidthRequest="80"
                           AbsoluteLayout.LayoutBounds="0.05,0.01"
                           AbsoluteLayout.LayoutFlags="PositionProportional"/>
        <Label x:Name="Username" HorizontalOptions="Center"  
                      FontFamily="{StaticResource Kanit}"
                       FontSize="16"
                        AbsoluteLayout.LayoutBounds="0.6,0.05"
                   AbsoluteLayout.LayoutFlags="PositionProportional"
                   FontAttributes="Bold"
                   />
        <ScrollView
                 AbsoluteLayout.LayoutBounds="0,1,1,0.85"
                   AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional">
            <StackLayout Padding="13,13,13,0" Spacing="13">
                <StackLayout Padding="0,30,0,15">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button ImageSource="iconsplus" Clicked="BtnStockin"  Text=" รับสินค้า " Style="{x:StaticResource Normalkanit}" Grid.Row="0" Grid.Column="0"  FontAttributes="Bold" TextColor="Gray" BackgroundColor="White" BorderColor="LightGray" BorderWidth="1"  CornerRadius="30"  />
                        <Button ImageSource="iconsminus" Clicked="BtnStockOut" Text=" จ่ายสินค้า " Style="{x:StaticResource Normalkanit}" Grid.Row="0" Grid.Column="1" FontAttributes="Bold" TextColor="Gray" BackgroundColor="White" BorderColor="LightGray" BorderWidth="1"  CornerRadius="30" />
                    </Grid>
                </StackLayout>
                <!--<StackLayout>
                    <forms:ChartView  x:Name="Chart1"   HeightRequest="150"/>
                </StackLayout>-->
                <StackLayout Orientation="Vertical" VerticalOptions="Center">
                    <Button Text="รายการสินค้ารับเข้าล่าสุด" BackgroundColor="White" BorderWidth="5" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedIn"
                            TextColor="#455e5e"
                            Style="{StaticResource Normalkanit}"
                            HeightRequest="80"
                              FontSize="22"
                          Margin="0,0,0,10"
                            />
                    <ListView x:Name="Dashboardin" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell IsEnabled="False">
                                    <StackLayout Orientation="Vertical"  Padding="20">
                                        <Image Source="iconlist" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                        <Label Text="{Binding Ref, StringFormat='Ref.No : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        <StackLayout Orientation="Horizontal">
                                            <Label Text="{Binding CreateDate, StringFormat='วันที่ : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <StackLayout Orientation="Horizontal">
                                                <Label Text="จำนวน :" Style="{x:StaticResource Normalkanit}"
                                                       x:Name="TypeTrans"
                                                  HorizontalOptions="EndAndExpand" />
                                                <Label Text="{Binding Amount}"  Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="End"/>
                                            </StackLayout>
                                        </StackLayout>
                                        <Label Text="{Binding Locations, StringFormat='ตำแหน่งที่จัดเก็บ : {0} '}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding Username , StringFormat='ผู้บันทึกรับสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                    </StackLayout>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                    <StackLayout  VerticalOptions="CenterAndExpand">
                        <Button Text="รายการสินค้าจ่ายออกล่าสุด" BackgroundColor="White" BorderWidth="5" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedOut"
                            TextColor="#455e5e"
                                FontSize="22"
                            Style="{StaticResource Normalkanit}"
                                HeightRequest="80"
                                 Margin="0,0,0,10"
                            />
                        <ListView x:Name="Dashboardout" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <ViewCell IsEnabled="False" >
                                        <StackLayout Orientation="Vertical"  Padding="20">
                                            <Image Source="iconsout" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                            <Label Text="{Binding Ref, StringFormat='Ref.No : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <StackLayout Orientation="Horizontal">
                                                <Label Text="{Binding CreateDate, StringFormat='วันที่ : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                                <StackLayout Orientation="Horizontal">
                                                    <Label Text="จำนวน :" Style="{x:StaticResource Normalkanit}"
                                                       x:Name="TypeTrans"
                                                  HorizontalOptions="EndAndExpand" />
                                                    <Label Text="{Binding Amount}"  Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="End"/>
                                                </StackLayout>
                                            </StackLayout>
                                            <Label Text="{Binding Locations, StringFormat='ตำแหน่งที่จัดเก็บ : {0} '}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding Username , StringFormat='ผู้บันทึกรับสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        </StackLayout>
                                    </ViewCell>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackLayout>
                    <StackLayout  VerticalOptions="CenterAndExpand">
                        <Button Text="รายการสินค้าถึงกำหนดสั่งซื้อ" BackgroundColor="White" BorderWidth="5" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedReorder"
                            TextColor="#455e5e"
                                FontSize="22"
                            Style="{StaticResource Normalkanit}"
                                HeightRequest="80"
                            ></Button>
                        <ListView x:Name="Dashboardreorder" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <ViewCell IsEnabled="False" >
                                        <StackLayout Orientation="Vertical"  Padding="20">
                                            <Image Source="iconin" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                            <Label Text="{Binding SkuId, StringFormat='หมายเลข Barcode: {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding Status, StringFormat='สถานะสินค้า : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding Total, StringFormat='จำนวนคงเหลือ : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        </StackLayout>
                                    </ViewCell>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackLayout>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </AbsoluteLayout>
</ContentPage>