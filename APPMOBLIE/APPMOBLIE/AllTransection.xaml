<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             x:Class="APPMOBLIE.AllTransection"
             BackgroundColor="White"
             xmlns:ic="clr-namespace:ImageCircle.Forms.Plugin.Abstractions;assembly=ImageCircle.Forms.Plugin"
             xmlns:forms="clr-namespace:Microcharts.Forms;assembly=Microcharts.Forms"
             xmlns:local="clr-namespace:APPMOBLIE">
    <AbsoluteLayout>
        <Image Source="background" Aspect="AspectFill"
                  AbsoluteLayout.LayoutBounds="0,0,2,0.12"
                  AbsoluteLayout.LayoutFlags="All"/>
        <StackLayout AbsoluteLayout.LayoutBounds="0.09,0.03"
                        AbsoluteLayout.LayoutFlags="PositionProportional"
                         BackgroundColor="Transparent"
                         Orientation="Horizontal"
                         VerticalOptions="Center"
                         Padding="13,0,0,0">
            <ic:CircleImage Source="userpic.png" 
                           Aspect="AspectFill"
                               HeightRequest="80" WidthRequest="80"
                         />
            <Label x:Name="Username" HorizontalOptions="Center" VerticalOptions="Center" 
                      FontFamily="{StaticResource Kanit}"
                       FontSize="16"
                   FontAttributes="Bold"
                       Padding="13,0,0,0"/>
            <ImageButton Source="iconsedit" HeightRequest="20" 
                                 BackgroundColor="Transparent"
                                  VerticalOptions="Center" 
                             Clicked="ImageButton_Clicked"/>
        </StackLayout>
        <ScrollView
                 AbsoluteLayout.LayoutBounds="0,1,1,0.85"
                   AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional">
            <StackLayout Padding="13,13,13,0" Spacing="13">
                <StackLayout Padding="0,30,0,15" HorizontalOptions="Center">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>

                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>
                        <Button Text="รับสินค้า" ImageSource="iconplus" BackgroundColor="White" BorderWidth="1"  BorderColor="LightGray"
                                    CornerRadius="20" FontSize="Medium"
                                    Clicked="BtnStockin"
                            TextColor="Black"
                            FontFamily="{StaticResource Kanit}" 
                            Grid.Row="0" Grid.Column="0"
                            />
                        <Button Text="จ่ายสินค้า" ImageSource="iconminus" BackgroundColor="White" BorderWidth="1"  BorderColor="LightGray"
                                    CornerRadius="20" FontSize="18"
                                    Clicked="BtnStockOut"
                            TextColor="Black"
                            FontFamily="{StaticResource Kanit}"
                                Grid.Row="0" Grid.Column="1"
                            
                            />
                    </Grid>
                </StackLayout>
                <StackLayout Orientation="Vertical" VerticalOptions="Center">
                    <Button Text="รายการสินค้ารับเข้าล่าสุด" BackgroundColor="White" BorderWidth="3" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedIn"
                            TextColor="#455e5e"
                            FontFamily="{StaticResource Kanit}"
                            HeightRequest="80"
                              FontSize="22"
                          Margin="0,0,0,10"
                            />
                    <ListView x:Name="Dashboardin" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450" IsPullToRefreshEnabled="True" Refreshing="Dashboardin_Refreshing">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell IsEnabled="False">
                                    <StackLayout Orientation="Vertical"  Padding="20">
                                        <Image Source="iconplus" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                        <Label Text="{Binding Ref, StringFormat='Ref No. : {0}'}" FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                        <StackLayout Orientation="Horizontal">
                                            <Label Text="{Binding CreateDate, StringFormat='วันที่ : {0}'}" 
                                                  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                            <StackLayout Orientation="Horizontal">
                                                <Label Text="จำนวน :" FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                                       x:Name="TypeTrans"
                                                  HorizontalOptions="EndAndExpand" />
                                                <Label Text="{Binding Amount}"   FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="End"/>
                                            </StackLayout>
                                        </StackLayout>
                                        <Label Text="{Binding Locations, StringFormat='ตำแหน่งที่จัดเก็บ : {0} '}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                        <Label Text="{Binding Username , StringFormat='ผู้บันทึกรับสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                    </StackLayout>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                    <StackLayout  VerticalOptions="CenterAndExpand">
                        <Button Text="รายการสินค้าจ่ายออกล่าสุด" BackgroundColor="White" BorderWidth="3" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedOut"
                            TextColor="#455e5e"
                                FontSize="22"
                           FontFamily="{StaticResource Kanit}"
                                HeightRequest="80"
                                 Margin="0,0,0,10"
                            />
                        <ListView x:Name="Dashboardout" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450" IsPullToRefreshEnabled="True" Refreshing="Dashboardout_Refreshing">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <ViewCell IsEnabled="False" >
                                        <StackLayout Orientation="Vertical"  Padding="20">
                                            <Image Source="iconminus" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                            <Label Text="{Binding Ref, StringFormat='Ref No. : {0}'}"  FontFamily="{StaticResource Kanit}" TextColor="Black" FontSize="Body"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" TextColor="Black" FontSize="Body"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" TextColor="Black" FontSize="Body"
                                               HorizontalOptions="StartAndExpand"/>
                                            <StackLayout Orientation="Horizontal">
                                                <Label Text="{Binding CreateDate, StringFormat='วันที่ : {0}'}" FontSize="Body" TextColor="Black"
                                                   FontFamily="{StaticResource Kanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                                <StackLayout Orientation="Horizontal">
                                                    <Label Text="จำนวน :"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                                       x:Name="TypeTrans"
                                                  HorizontalOptions="EndAndExpand" />
                                                    <Label Text="{Binding Amount}"   FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="End"/>
                                                </StackLayout>
                                            </StackLayout>
                                            <Label Text="{Binding Locations, StringFormat='ตำแหน่งที่จัดเก็บ : {0} '}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding Username , StringFormat='ผู้บันทึกจ่ายสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                        </StackLayout>
                                    </ViewCell>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackLayout>
                    <StackLayout  VerticalOptions="CenterAndExpand">
                        <Button Text="รายการสินค้าถึงกำหนดสั่งซื้อ" BackgroundColor="White" BorderWidth="3" BorderColor="#c6e2ff" 
                                    CornerRadius="15"
                                    Clicked="Button_ClickedReorder"
                            TextColor="#455e5e"
                                FontSize="22"
                            FontFamily="{StaticResource Kanit}"
                                HeightRequest="80"
                            ></Button>
                        <ListView x:Name="Dashboardreorder" HasUnevenRows="True" BackgroundColor="White" HeightRequest="450" IsPullToRefreshEnabled="True" Refreshing="Dashboardreorder_Refreshing">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <ViewCell IsEnabled="False" >
                                        <StackLayout Orientation="Vertical"  Padding="20">
                                            <Image Source="iconwarning" HorizontalOptions="Start" WidthRequest="32" HeightRequest="32"/>
                                            <Label Text="{Binding SkuId, StringFormat='หมายเลข Barcode: {0}'}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}"  FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" 
                                                   FontFamily="{StaticResource Kanit}" FontSize="Body" TextColor="Black"
                                               HorizontalOptions="StartAndExpand"/>
                                            <Label Text="{Binding Total, StringFormat='จำนวนคงเหลือ : {0}'}"  FontSize="Body" TextColor="Black"
                                                   FontFamily="{StaticResource Kanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        </StackLayout>
                                    </ViewCell>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackLayout>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </AbsoluteLayout>
</ContentPage>