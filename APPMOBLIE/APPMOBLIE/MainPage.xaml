<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="APPMOBLIE.MainPage"
             xmlns:ic="clr-namespace:ImageCircle.Forms.Plugin.Abstractions;assembly=ImageCircle.Forms.Plugin">
    <ContentPage.Content>
        <AbsoluteLayout>
            <Image Source="background" Aspect="AspectFill"
                  AbsoluteLayout.LayoutBounds="0,0,1,0.12"
                   AbsoluteLayout.LayoutFlags="All" />
            <ic:CircleImage Source="userpic.png" 
                           Aspect="AspectFill"
                               HeightRequest="60" WidthRequest="60"
                           AbsoluteLayout.LayoutBounds="0.09,0.03"
                           AbsoluteLayout.LayoutFlags="PositionProportional"/>
            <Label x:Name="Username" HorizontalOptions="Center" 
                      FontFamily="{StaticResource Kanit}"
                       FontSize="16"
                        AbsoluteLayout.LayoutBounds="0.5,0.05"
                   AbsoluteLayout.LayoutFlags="PositionProportional"
                   FontAttributes="Bold"
                   />
            <StackLayout
                  AbsoluteLayout.LayoutBounds="0,1,1,0.85"
                  AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional"
                  VerticalOptions="Center"
                HorizontalOptions="Center"
                  Orientation="Vertical"
                Spacing="5">
                <StackLayout Padding="0,30,0,0" Spacing="60">
                    <StackLayout Orientation="Horizontal">
                        <SearchBar Placeholder="กรอกรหัสสินค้า,ชื่อสินค้า,ยี่ห้อสินค้า" TextChanged="SearchBar_TextChanged" 
                       Style="{x:StaticResource Normalkanit}"/>

                        <Button Clicked="Button_Scan"
                        BackgroundColor="Transparent" 
                        ImageSource="barcode.png"
                            HeightRequest="50" WidthRequest="50"
                         HorizontalOptions="Start"
                        VerticalOptions="Center"
                         />
                    </StackLayout>
                   
                    <ListView x:Name="Productlist" HasUnevenRows="True" SeparatorColor="Black"
                              ItemTapped="Productlist_ItemTapped"
                              >
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <StackLayout Orientation="Vertical" Padding="20,5,0,15">
                                        <StackLayout Orientation="Horizontal">
                                            <ic:CircleImage Source="iconbox.png" 
                                                        Aspect="AspectFill" HeightRequest="20" WidthRequest="20"/>
                                            <Label Text="{Binding ProductCode, StringFormat='รหัสสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                                   VerticalOptions="StartAndExpand"/>
                                        </StackLayout>
                                        <Label Text="{Binding ProductName, StringFormat='ชื่อสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"/>
                                        <Label Text="{Binding ProductBrand, StringFormat='ยี่ห้อสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"/>
                                    </StackLayout>
                                  
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackLayout>
            </StackLayout >
        </AbsoluteLayout>
       
        
    </ContentPage.Content>
</ContentPage>

