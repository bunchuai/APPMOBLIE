<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="APPMOBLIE.Checkproduct"
             xmlns:ic="clr-namespace:ImageCircle.Forms.Plugin.Abstractions;assembly=ImageCircle.Forms.Plugin">
    <ContentPage.Content>
        <AbsoluteLayout>
            <Image Source="background" Aspect="AspectFill"
                  AbsoluteLayout.LayoutBounds="0,0,1,0.12"
                   AbsoluteLayout.LayoutFlags="All" />
            <ic:CircleImage Source="userpic.png" 
                           Aspect="AspectFill"
                               HeightRequest="60" WidthRequest="60"
                           AbsoluteLayout.LayoutBounds="0.09,0.03"
                           AbsoluteLayout.LayoutFlags="PositionProportional"/>
            <Label x:Name="Username" HorizontalOptions="Center" 
                      FontFamily="{StaticResource Kanit}"
                       FontSize="16"
                        AbsoluteLayout.LayoutBounds="0.5,0.05"
                   AbsoluteLayout.LayoutFlags="PositionProportional"
                   FontAttributes="Bold"
                   />
            <StackLayout
                  AbsoluteLayout.LayoutBounds="0,0.10,1,0.3"
                  AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional"
                  VerticalOptions="Center"
                HorizontalOptions="Center"
                  Orientation="Vertical"
                Spacing="5">
                <Entry Placeholder=" รหัสสินค้า หรือ หมายเลขSKU  "
                           x:Name="findtext"
                       Keyboard="Default"
                       FontFamily="{x:StaticResource Kanit}"
                       Completed="findtext_Completed"
                       HorizontalTextAlignment="Center"
                           />
                <StackLayout Orientation="Horizontal"
                             HorizontalOptions="Center">
                    <Button Clicked="Button_Scan"
                        BackgroundColor="Transparent" 
                        ImageSource="barcode.png"
                            HeightRequest="50" WidthRequest="50"
                         HorizontalOptions="Start"
                        VerticalOptions="Center"
                         />
                    <Label Text="Scan Barcode" VerticalOptions="Center" HorizontalOptions="Start" Style="{x:StaticResource Normalkanit}"/>
                </StackLayout>
            </StackLayout >
            <StackLayout  
                          AbsoluteLayout.LayoutBounds="0,0.45,1,0.3"
                  AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional"
                         >
                <Frame x:Name="Fram1" BackgroundColor="White"   Padding="10" Margin="15,0,10,5" CornerRadius="5" IsVisible="False">
                    <Grid RowSpacing="2" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label x:Name="Skuinfo" Grid.Row="0" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}" />
                        <Label x:Name="Procd" Grid.Row="1" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Prodn"  Grid.Row="2" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Prodb" Grid.Row="3" Grid.ColumnSpan="2"   Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Prodm" Grid.Row="4" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Prolo" Grid.Row="5" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Proin" Grid.Row="6" Grid.Column="0"   Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Proout"  Grid.Row="6" Grid.Column="1" Style="{x:StaticResource Normalkanit}"/>
                        <Label x:Name="Available" Grid.Row="7" Grid.ColumnSpan="2" Style="{x:StaticResource Normalkanit}"/>
                    </Grid>
                </Frame>
            </StackLayout>
            <ScrollView  
                 AbsoluteLayout.LayoutBounds="0,1,1,0.39"
                   AbsoluteLayout.LayoutFlags="PositionProportional,SizeProportional">
                <StackLayout  Padding="5">
                    <Label x:Name="Alert"  Style="{x:StaticResource Normalkanit}" HorizontalOptions="Center"/>
                    <Label Text="{Binding titletrans}" Style="{x:StaticResource Normalkanit}" x:Name="Titletrans"
                           FontSize="18" HorizontalOptions="Center" />
                    <ListView  x:Name="listview" HasUnevenRows="True">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell IsEnabled="False">
                                    <StackLayout Orientation="Vertical"  Padding="20,0,20,5">
                                        <Image Source="iconlist" HorizontalOptions="Start" WidthRequest="22" HeightRequest="22"/>

                                        <Label Text="{Binding reference, StringFormat='  Ref.No. : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                        <StackLayout Orientation="Horizontal">
                                            <Label Text="{Binding TransactionDate, StringFormat='  วันที่ : {0}'}" 
                                                   Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                            <StackLayout Orientation="Horizontal" >
                                                <Label Text="{Binding TransactionType}" Style="{x:StaticResource Normalkanit}"
                                                        x:Name="TypeTrans"
                                                        HorizontalOptions="EndAndExpand"
                                                        TextColor="{Binding Color}"/>
                                                <Label Text="{Binding Quantity}"  Style="{x:StaticResource Normalkanit}"
                                                        HorizontalOptions="End"
                                                        TextColor="{Binding Color}"/>
                                                <Label Text="{Binding Unit}" Style="{x:StaticResource Normalkanit}"
                                                        HorizontalOptions="StartAndExpand"
                                                        TextColor="{Binding Color}"/>
                                            </StackLayout>
                                        </StackLayout>
                                        <Label Text="{Binding Username , StringFormat='  ผู้บันทึกรายการสินค้า : {0}'}" Style="{x:StaticResource Normalkanit}"
                                               HorizontalOptions="StartAndExpand"/>
                                    </StackLayout>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackLayout>
            </ScrollView>
        </AbsoluteLayout>
    </ContentPage.Content>
</ContentPage>